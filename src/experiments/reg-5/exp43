
TASK=regression_5min
EPOCHS=500
SAVE_FREQ_EPOCHS=1
LR=0.00001
NLAYERS=2
HU=500
BATCHSIZE=256

#For reference
TRAINING_LOSS=L1
OPTIMIZER=Adam
REGULARIZER=0
SOLUTION_DOMAIN=Log 

DIR=${TASK}-LR${LR}-NLAYERS${NLAYERS}-HU${HU}-BATCHSIZE${BATCHSIZE}-LOSS${TRAINING_LOSS}-OPTIMIZER${OPTIMIZER}-REG${REGULARIZER}-DOMAIN${SOLUTION_DOMAIN}-MAXNEPOCHS${EPOCHS}
CHECKPOINT_DIR=/tmp/calima_checkpoints/experiments/regression/${DIR}
mkdir ${CHECKPOINT_DIR}

python nn_train.py --epochs ${EPOCHS} --checkpoint_dir ${CHECKPOINT_DIR} --mode ${TASK} --lr ${LR} --n_layers ${NLAYERS} --n_hidden_units ${HU} --batch_size ${BATCHSIZE} --save_freq_epochs ${SAVE_FREQ_EPOCHS} --train_loss ${TRAINING_LOSS} --optimizer ${OPTIMIZER} --weight_decay ${REGULARIZER} --label_space ${SOLUTION_DOMAIN} # > ${CHECKPOINT_DIR}/execution.log
